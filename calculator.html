<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Advanced Mathematics Calculator</title>
	<style>
		body {
			background: linear-gradient(135deg, #232526, #414345);
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		.calculator {
			background: #222;
			border-radius: 20px;
			box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
			padding: 30px 25px 25px 25px;
			width: 370px;
			color: #fff;
		}
		.display {
			width: 100%;
			height: 60px;
			background: #333;
			border: none;
			border-radius: 10px;
			margin-bottom: 20px;
			font-size: 2rem;
			color: #fff;
			text-align: right;
			padding: 10px 15px;
			box-sizing: border-box;
		}
		.buttons {
			display: grid;
			grid-template-columns: repeat(5, 1fr);
			gap: 12px;
		}
		button {
			padding: 18px 0;
			font-size: 1.1rem;
			border: none;
			border-radius: 8px;
			background: #444;
			color: #fff;
			cursor: pointer;
			transition: background 0.2s, transform 0.1s;
		}
		button:active {
			background: #666;
			transform: scale(0.97);
		}
		.operator {
			background: #ff9800;
			color: #fff;
		}
		.equal {
			background: #4caf50;
			color: #fff;
			grid-column: span 2;
		}
		.clear {
			background: #f44336;
			color: #fff;
		}
		.func {
			background: #2196f3;
			color: #fff;
		}
		.memory {
			background: #9c27b0;
			color: #fff;
		}
	</style>
</head>
<body>
	<div class="calculator">
		<input type="text" class="display" id="display" readonly>
		<div class="buttons">
			<button class="memory" onclick="memory('MC')">MC</button>
			<button class="memory" onclick="memory('MR')">MR</button>
			<button class="memory" onclick="memory('M+')">M+</button>
			<button class="memory" onclick="memory('M-')">M-</button>
			<button class="clear" onclick="clearDisplay()">C</button>

			<button class="func" onclick="percentage()">%</button>
			<button onclick="append('7')">7</button>
			<button onclick="append('8')">8</button>
			<button onclick="append('9')">9</button>
			<button class="operator" onclick="append('/')">÷</button>
			<button class="func" onclick="append('**')">x<sup>y</sup></button>

			<button onclick="append('4')">4</button>
			<button onclick="append('5')">5</button>
			<button onclick="append('6')">6</button>
			<button class="operator" onclick="append('*')">×</button>
			<button class="func" onclick="func('sqrt')">√</button>

			<button onclick="append('1')">1</button>
			<button onclick="append('2')">2</button>
			<button onclick="append('3')">3</button>
			<button class="operator" onclick="append('-')">−</button>
			<button class="func" onclick="func('log')">log</button>

			<button onclick="append('0')">0</button>
			<button onclick="append('.')">.</button>
			<button class="operator" onclick="append('+')">+</button>
			<button class="func" onclick="func('sin')">sin</button>
			<button class="func" onclick="func('cos')">cos</button>

			<button class="func" onclick="func('tan')">tan</button>
			<button class="func" onclick="func('exp')">e<sup>x</sup></button>
			<button class="func" onclick="func('pi')">π</button>
			<button class="func" onclick="func('fact')">n!</button>
			<button class="equal" onclick="calculate()">=</button>
		</div>
	</div>
	<script>
		let memoryValue = 0;
		let display = document.getElementById('display');

		function append(val) {
			display.value += val;
		}

		function clearDisplay() {
			display.value = '';
		}

		function calculate() {
			try {
				let expr = display.value
					.replace(/π/g, Math.PI)
					.replace(/e/g, Math.E);
				display.value = eval(expr);
			} catch (e) {
				display.value = 'Error';
			}
		}

		function func(type) {
			let val = display.value;
			if (val === '' && type !== 'pi') return;
			try {
				let result;
				switch(type) {
					case 'sqrt':
						result = Math.sqrt(eval(val));
						break;
					case 'log':
						result = Math.log10(eval(val));
						break;
					case 'sin':
						result = Math.sin(eval(val) * Math.PI / 180);
						break;
					case 'cos':
						result = Math.cos(eval(val) * Math.PI / 180);
						break;
					case 'tan':
						result = Math.tan(eval(val) * Math.PI / 180);
						break;
					case 'exp':
						result = Math.exp(eval(val));
						break;
					case 'pi':
						result = Math.PI;
						break;
					case 'fact':
						result = factorial(eval(val));
						break;
					default:
						result = eval(val);
				}
				display.value = result;
			} catch (e) {
				display.value = 'Error';
			}
		}

		function factorial(n) {
			if (n < 0) return 'Error';
			if (n === 0 || n === 1) return 1;
			let res = 1;
			for (let i = 2; i <= n; i++) res *= i;
			return res;
		}

		function memory(action) {
			switch(action) {
				case 'MC':
					memoryValue = 0;
					break;
				case 'MR':
					display.value += memoryValue;
					break;
				case 'M+':
					memoryValue += Number(eval(display.value) || 0);
					break;
				case 'M-':
					memoryValue -= Number(eval(display.value) || 0);
					break;
			}
		}

		function percentage() {
			try {
				let val = eval(display.value);
				display.value = val / 100;
			} catch (e) {
				display.value = 'Error';
			}
		}
	</script>
</body>
</html>
